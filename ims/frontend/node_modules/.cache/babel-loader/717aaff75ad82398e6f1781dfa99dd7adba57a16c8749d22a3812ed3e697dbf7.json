{"ast":null,"code":"var _jsxFileName = \"E:\\\\szakdolgozat\\\\ims\\\\frontend\\\\src\\\\UsersManager.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { AuthContext } from \"./AuthProvider.jsx\";\nimport { Form, Button, Container, Row, Col, Alert, Card, Modal } from \"react-bootstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UsersManager() {\n  _s();\n  const {\n    token,\n    user: currentUser\n  } = useContext(AuthContext);\n  const [users, setUsers] = useState([]);\n  const [user, setUser] = useState({\n    id: 0,\n    username: \"\",\n    email: \"\",\n    phone_number: \"\",\n    given_name: \"\",\n    family_name: \"\",\n    dob: \"\",\n    address: \"\",\n    account_level: 0,\n    password: \"\",\n    currentPassword: \"\",\n    profile_picture: \"\"\n  });\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n  const [tempProfilePicture, setTempProfilePicture] = useState(\"\");\n  const defaultProfilePicture = \"https://upload.wikimedia.org/wikipedia/commons/a/ac/Default_pfp.jpg?20200418092106\";\n  const [showPicturePopup, setShowPicturePopup] = useState(false);\n  const [maxAccountLevel, setMaxAccountLevel] = useState(0);\n  const currentYear = new Date().getFullYear();\n  const fetchUsers = async () => {\n    try {\n      const response = await fetch(\"http://localhost:5000/api/users\", {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      const data = await response.json();\n      if (response.ok) {\n        setUsers(data.sort((a, b) => a.id - b.id));\n      } else {\n        setError(data.message);\n      }\n    } catch (err) {\n      setError(\"Error fetching users.\");\n    }\n  };\n  useEffect(() => {\n    fetchUsers();\n  }, [token]);\n  useEffect(() => {\n    const fetchMaxAccountLevel = async () => {\n      try {\n        const response = await fetch(\"http://localhost:5000/api/roles/max\", {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        const data = await response.json();\n        if (response.ok) {\n          setMaxAccountLevel(data.maxLevel || 0);\n        }\n      } catch (err) {\n        setError(\"Error fetching max account level.\");\n      }\n    };\n    fetchMaxAccountLevel();\n  }, [token]);\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    if (name === \"account_level\") {\n      const numericValue = Math.max(0, Math.min(maxAccountLevel, parseInt(value, 10) || 0));\n      if (user.id === currentUser.id) {\n        setError(\"You cannot change your own account level.\");\n        return;\n      }\n      setUser({\n        ...user,\n        [name]: numericValue\n      });\n    } else {\n      setUser({\n        ...user,\n        [name]: value\n      });\n    }\n  };\n  const handleDOBChange = e => {\n    const value = e.target.value;\n    if (value.length > 10) {\n      setError(\"Invalid date format. Ensure it is a valid string.\");\n      return;\n    }\n    const [year] = value.split(\"-\");\n    if (year < 1925 || year > 2025) {\n      setError(`Year must be between 1925 and ${currentYear}.`);\n      return;\n    }\n    setUser({\n      ...user,\n      dob: value\n    });\n    setError(\"\");\n  };\n  const handleSelectUser = e => {\n    const selectedId = parseInt(e.target.value, 10);\n    const selectedUser = users.find(u => u.id === selectedId) || {\n      id: 0,\n      username: \"\",\n      email: \"\",\n      phone_number: \"\",\n      given_name: \"\",\n      family_name: \"\",\n      dob: \"\",\n      address: \"\",\n      account_level: 0,\n      password: \"\",\n      currentPassword: \"\",\n      profile_picture: defaultProfilePicture\n    };\n    setUser({\n      ...selectedUser,\n      dob: selectedUser.dob || \"\"\n    });\n    setError(\"\");\n    setSuccess(\"\");\n  };\n  const handleUpdateUser = async () => {\n    if (!user.currentPassword) {\n      setError(\"Current password is required to update user details.\");\n      return;\n    }\n    const updatedUser = {\n      ...user\n    };\n    updatedUser.dob = user.dob || null;\n    try {\n      const response = await fetch(`http://localhost:5000/api/users/${user.id}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify(updatedUser)\n      });\n      const data = await response.json();\n      if (response.ok) {\n        setSuccess(\"User updated successfully!\");\n        fetchUsers();\n        setUser({\n          id: 0,\n          username: \"\",\n          email: \"\",\n          phone_number: \"\",\n          given_name: \"\",\n          family_name: \"\",\n          dob: \"\",\n          address: \"\",\n          account_level: 0,\n          password: \"\",\n          currentPassword: \"\",\n          profile_picture: defaultProfilePicture\n        });\n      } else {\n        setError(data.message);\n      }\n    } catch (err) {\n      setError(\"Error updating user.\");\n    }\n  };\n  const handleProfilePictureChange = () => {\n    const img = new Image();\n    img.src = tempProfilePicture;\n    img.onload = () => {\n      setUser({\n        ...user,\n        profile_picture: tempProfilePicture\n      });\n      setTempProfilePicture(\"\");\n      setShowPicturePopup(false);\n      setError(\"\");\n    };\n    img.onerror = () => {\n      setError(\"Invalid image URL.\");\n    };\n  };\n  const resetProfilePicture = () => {\n    setUser({\n      ...user,\n      profile_picture: defaultProfilePicture\n    });\n  };\n  const isDisabled = user.id === 0;\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"mt-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-center mb-4\",\n      children: \"Users Manager\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      variant: \"danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 17\n    }, this), success && /*#__PURE__*/_jsxDEV(Alert, {\n      variant: \"success\",\n      children: success\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: 4,\n          children: /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"id\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"User ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              as: \"select\",\n              name: \"id\",\n              value: user.id,\n              onChange: handleSelectUser,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: 0,\n                children: \"Select User\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 17\n              }, this), users.map(u => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: u.id,\n                children: [u.id, \" - \", u.username]\n              }, u.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 8,\n          children: /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"username\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Username\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              name: \"username\",\n              value: user.username,\n              onChange: handleInputChange,\n              disabled: isDisabled\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"email\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"email\",\n              name: \"email\",\n              value: user.email,\n              onChange: handleInputChange,\n              disabled: isDisabled\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"phone_number\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Phone Number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              name: \"phone_number\",\n              value: user.phone_number,\n              onChange: handleInputChange,\n              disabled: isDisabled\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"given_name\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Given Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              name: \"given_name\",\n              value: user.given_name,\n              onChange: handleInputChange,\n              disabled: isDisabled\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"family_name\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Family Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              name: \"family_name\",\n              value: user.family_name,\n              onChange: handleInputChange,\n              disabled: isDisabled\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"dob\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Date of Birth\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"date\",\n              name: \"dob\",\n              value: user.dob,\n              onChange: handleDOBChange,\n              max: `${currentYear}-12-31`,\n              disabled: isDisabled\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"address\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              name: \"address\",\n              value: user.address,\n              onChange: handleInputChange,\n              disabled: isDisabled\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"account_level\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Account Level\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"number\",\n              name: \"account_level\",\n              value: user.account_level,\n              onChange: handleInputChange,\n              min: \"0\",\n              max: maxAccountLevel,\n              disabled: isDisabled || user.id === currentUser.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"password\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"New Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"password\",\n              name: \"password\",\n              value: user.password,\n              onChange: handleInputChange,\n              disabled: isDisabled\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"currentPassword\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Admin's Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"password\",\n              name: \"currentPassword\",\n              value: user.currentPassword,\n              onChange: handleInputChange,\n              disabled: isDisabled\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"profile_picture\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Profile Picture\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                name: \"profile_picture\",\n                value: tempProfilePicture,\n                onChange: e => setTempProfilePicture(e.target.value),\n                disabled: isDisabled\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"primary\",\n                onClick: () => setShowPicturePopup(true),\n                className: \"ms-2\",\n                disabled: isDisabled,\n                children: \"Preview\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 15\n            }, this), user.profile_picture && /*#__PURE__*/_jsxDEV(Card, {\n              className: \"mt-3 position-relative\",\n              children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n                variant: \"top\",\n                src: user.profile_picture,\n                alt: \"Profile\",\n                style: {\n                  width: \"150px\",\n                  height: \"150px\",\n                  objectFit: \"cover\",\n                  borderRadius: \"50%\",\n                  margin: \"0 auto\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 374,\n                columnNumber: 19\n              }, this), user.profile_picture !== defaultProfilePicture && /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"danger\",\n                size: \"sm\",\n                className: \"position-absolute top-0 end-0 m-2\",\n                style: {\n                  borderRadius: \"50%\",\n                  width: \"24px\",\n                  height: \"24px\",\n                  padding: \"0\",\n                  lineHeight: \"1\"\n                },\n                onClick: resetProfilePicture,\n                children: \"X\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        className: \"w-100\",\n        onClick: handleUpdateUser,\n        disabled: isDisabled,\n        children: \"Update User\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showPicturePopup,\n      onHide: () => setShowPicturePopup(false),\n      centered: true,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Change Profile Picture\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n            variant: \"top\",\n            src: user.profile_picture || defaultProfilePicture,\n            alt: \"Current Profile\",\n            style: {\n              width: \"150px\",\n              height: \"150px\",\n              objectFit: \"cover\",\n              borderRadius: \"50%\",\n              margin: \"0 auto\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control mb-3\",\n              placeholder: \"Paste image URL\",\n              value: tempProfilePicture,\n              onChange: e => setTempProfilePicture(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              onClick: handleProfilePictureChange,\n              children: \"Check\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 192,\n    columnNumber: 5\n  }, this);\n}\n_s(UsersManager, \"ttCGy4YZCA3yzYqr1yZgojKW1sA=\");\n_c = UsersManager;\nexport default UsersManager;\nvar _c;\n$RefreshReg$(_c, \"UsersManager\");","map":{"version":3,"names":["React","useState","useEffect","useContext","AuthContext","Form","Button","Container","Row","Col","Alert","Card","Modal","jsxDEV","_jsxDEV","UsersManager","_s","token","user","currentUser","users","setUsers","setUser","id","username","email","phone_number","given_name","family_name","dob","address","account_level","password","currentPassword","profile_picture","error","setError","success","setSuccess","tempProfilePicture","setTempProfilePicture","defaultProfilePicture","showPicturePopup","setShowPicturePopup","maxAccountLevel","setMaxAccountLevel","currentYear","Date","getFullYear","fetchUsers","response","fetch","headers","Authorization","data","json","ok","sort","a","b","message","err","fetchMaxAccountLevel","maxLevel","handleInputChange","e","name","value","target","numericValue","Math","max","min","parseInt","handleDOBChange","length","year","split","handleSelectUser","selectedId","selectedUser","find","u","handleUpdateUser","updatedUser","method","body","JSON","stringify","handleProfilePictureChange","img","Image","src","onload","onerror","resetProfilePicture","isDisabled","className","children","fileName","_jsxFileName","lineNumber","columnNumber","variant","md","Group","controlId","Label","Control","as","onChange","map","type","disabled","onClick","Img","alt","style","width","height","objectFit","borderRadius","margin","size","padding","lineHeight","show","onHide","centered","Header","closeButton","Title","Body","placeholder","_c","$RefreshReg$"],"sources":["E:/szakdolgozat/ims/frontend/src/UsersManager.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport { AuthContext } from \"./AuthProvider.jsx\";\r\nimport { Form, Button, Container, Row, Col, Alert, Card, Modal } from \"react-bootstrap\";\r\n\r\nfunction UsersManager() {\r\n  const { token, user: currentUser } = useContext(AuthContext);\r\n  const [users, setUsers] = useState([]);\r\n  const [user, setUser] = useState({\r\n    id: 0,\r\n    username: \"\",\r\n    email: \"\",\r\n    phone_number: \"\",\r\n    given_name: \"\",\r\n    family_name: \"\",\r\n    dob: \"\",\r\n    address: \"\",\r\n    account_level: 0,\r\n    password: \"\",\r\n    currentPassword: \"\",\r\n    profile_picture: \"\",\r\n  });\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(\"\");\r\n  const [tempProfilePicture, setTempProfilePicture] = useState(\"\");\r\n  const defaultProfilePicture = \"https://upload.wikimedia.org/wikipedia/commons/a/ac/Default_pfp.jpg?20200418092106\";\r\n  const [showPicturePopup, setShowPicturePopup] = useState(false);\r\n  const [maxAccountLevel, setMaxAccountLevel] = useState(0);\r\n  const currentYear = new Date().getFullYear();\r\n\r\n  const fetchUsers = async () => {\r\n    try {\r\n      const response = await fetch(\"http://localhost:5000/api/users\", {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n      const data = await response.json();\r\n      if (response.ok) {\r\n        setUsers(data.sort((a, b) => a.id - b.id));\r\n      } else {\r\n        setError(data.message);\r\n      }\r\n    } catch (err) {\r\n      setError(\"Error fetching users.\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchUsers();\r\n  }, [token]);\r\n\r\n  useEffect(() => {\r\n    const fetchMaxAccountLevel = async () => {\r\n      try {\r\n        const response = await fetch(\"http://localhost:5000/api/roles/max\", {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        });\r\n        const data = await response.json();\r\n        if (response.ok) {\r\n          setMaxAccountLevel(data.maxLevel || 0);\r\n        }\r\n      } catch (err) {\r\n        setError(\"Error fetching max account level.\");\r\n      }\r\n    };\r\n\r\n    fetchMaxAccountLevel();\r\n  }, [token]);\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n\r\n    if (name === \"account_level\") {\r\n      const numericValue = Math.max(0, Math.min(maxAccountLevel, parseInt(value, 10) || 0));\r\n      if (user.id === currentUser.id) {\r\n        setError(\"You cannot change your own account level.\");\r\n        return;\r\n      }\r\n      setUser({ ...user, [name]: numericValue });\r\n    } else {\r\n      setUser({ ...user, [name]: value });\r\n    }\r\n  };\r\n\r\n  const handleDOBChange = (e) => {\r\n    const value = e.target.value;\r\n    if (value.length > 10) {\r\n      setError(\"Invalid date format. Ensure it is a valid string.\");\r\n      return;\r\n    }\r\n    const [year] = value.split(\"-\");\r\n    if (year < 1925 || year > 2025) {\r\n      setError(`Year must be between 1925 and ${currentYear}.`);\r\n      return;\r\n    }\r\n    setUser({ ...user, dob: value });\r\n    setError(\"\");\r\n  };\r\n\r\n  const handleSelectUser = (e) => {\r\n    const selectedId = parseInt(e.target.value, 10);\r\n    const selectedUser = users.find((u) => u.id === selectedId) || {\r\n      id: 0,\r\n      username: \"\",\r\n      email: \"\",\r\n      phone_number: \"\",\r\n      given_name: \"\",\r\n      family_name: \"\",\r\n      dob: \"\", \r\n      address: \"\",\r\n      account_level: 0,\r\n      password: \"\",\r\n      currentPassword: \"\",\r\n      profile_picture: defaultProfilePicture,\r\n    };\r\n    setUser({\r\n      ...selectedUser,\r\n      dob: selectedUser.dob || \"\", \r\n    });\r\n    setError(\"\");\r\n    setSuccess(\"\");\r\n  };\r\n\r\n  const handleUpdateUser = async () => {\r\n    if (!user.currentPassword) {\r\n      setError(\"Current password is required to update user details.\");\r\n      return;\r\n    }\r\n\r\n    const updatedUser = { ...user };\r\n\r\n    updatedUser.dob = user.dob || null;\r\n\r\n    try {\r\n      const response = await fetch(`http://localhost:5000/api/users/${user.id}`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify(updatedUser),\r\n      });\r\n      const data = await response.json();\r\n      if (response.ok) {\r\n        setSuccess(\"User updated successfully!\");\r\n        fetchUsers();\r\n        setUser({\r\n          id: 0,\r\n          username: \"\",\r\n          email: \"\",\r\n          phone_number: \"\",\r\n          given_name: \"\",\r\n          family_name: \"\",\r\n          dob: \"\",\r\n          address: \"\",\r\n          account_level: 0,\r\n          password: \"\",\r\n          currentPassword: \"\",\r\n          profile_picture: defaultProfilePicture,\r\n        });\r\n      } else {\r\n        setError(data.message);\r\n      }\r\n    } catch (err) {\r\n      setError(\"Error updating user.\");\r\n    }\r\n  };\r\n\r\n  const handleProfilePictureChange = () => {\r\n    const img = new Image();\r\n    img.src = tempProfilePicture;\r\n    img.onload = () => {\r\n      setUser({ ...user, profile_picture: tempProfilePicture });\r\n      setTempProfilePicture(\"\");\r\n      setShowPicturePopup(false);\r\n      setError(\"\");\r\n    };\r\n    img.onerror = () => {\r\n      setError(\"Invalid image URL.\");\r\n    };\r\n  };\r\n\r\n  const resetProfilePicture = () => {\r\n    setUser({ ...user, profile_picture: defaultProfilePicture });\r\n  };\r\n\r\n  const isDisabled = user.id === 0;\r\n\r\n  return (\r\n    <Container className=\"mt-5\">\r\n      <h1 className=\"text-center mb-4\">Users Manager</h1>\r\n      {error && <Alert variant=\"danger\">{error}</Alert>}\r\n      {success && <Alert variant=\"success\">{success}</Alert>}\r\n\r\n      <Form>\r\n        <Row className=\"mb-3\">\r\n          <Col md={4}>\r\n            <Form.Group controlId=\"id\">\r\n              <Form.Label>User ID</Form.Label>\r\n              <Form.Control\r\n                as=\"select\"\r\n                name=\"id\"\r\n                value={user.id}\r\n                onChange={handleSelectUser}\r\n              >\r\n                <option value={0}>Select User</option>\r\n                {users.map((u) => (\r\n                  <option key={u.id} value={u.id}>\r\n                    {u.id} - {u.username}\r\n                  </option>\r\n                ))}\r\n              </Form.Control>\r\n            </Form.Group>\r\n          </Col>\r\n          <Col md={8}>\r\n            <Form.Group controlId=\"username\">\r\n              <Form.Label>Username</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                name=\"username\"\r\n                value={user.username}\r\n                onChange={handleInputChange}\r\n                disabled={isDisabled}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"mb-3\">\r\n          <Col md={6}>\r\n            <Form.Group controlId=\"email\">\r\n              <Form.Label>Email</Form.Label>\r\n              <Form.Control\r\n                type=\"email\"\r\n                name=\"email\"\r\n                value={user.email}\r\n                onChange={handleInputChange}\r\n                disabled={isDisabled}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n          <Col md={6}>\r\n            <Form.Group controlId=\"phone_number\">\r\n              <Form.Label>Phone Number</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                name=\"phone_number\"\r\n                value={user.phone_number}\r\n                onChange={handleInputChange}\r\n                disabled={isDisabled}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"mb-3\">\r\n          <Col md={6}>\r\n            <Form.Group controlId=\"given_name\">\r\n              <Form.Label>Given Name</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                name=\"given_name\"\r\n                value={user.given_name}\r\n                onChange={handleInputChange}\r\n                disabled={isDisabled}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n          <Col md={6}>\r\n            <Form.Group controlId=\"family_name\">\r\n              <Form.Label>Family Name</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                name=\"family_name\"\r\n                value={user.family_name}\r\n                onChange={handleInputChange}\r\n                disabled={isDisabled}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"mb-3\">\r\n          <Col md={6}>\r\n            <Form.Group controlId=\"dob\">\r\n              <Form.Label>Date of Birth</Form.Label>\r\n              <Form.Control\r\n                type=\"date\"\r\n                name=\"dob\"\r\n                value={user.dob}\r\n                onChange={handleDOBChange}\r\n                max={`${currentYear}-12-31`}\r\n                disabled={isDisabled}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n          <Col md={6}>\r\n            <Form.Group controlId=\"address\">\r\n              <Form.Label>Address</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                name=\"address\"\r\n                value={user.address}\r\n                onChange={handleInputChange}\r\n                disabled={isDisabled}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"mb-3\">\r\n          <Col>\r\n            <Form.Group controlId=\"account_level\">\r\n              <Form.Label>Account Level</Form.Label>\r\n              <Form.Control\r\n                type=\"number\"\r\n                name=\"account_level\"\r\n                value={user.account_level}\r\n                onChange={handleInputChange}\r\n                min=\"0\"\r\n                max={maxAccountLevel}\r\n                disabled={isDisabled || user.id === currentUser.id}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"mb-3\">\r\n          <Col md={6}>\r\n            <Form.Group controlId=\"password\">\r\n              <Form.Label>New Password</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                name=\"password\"\r\n                value={user.password}\r\n                onChange={handleInputChange}\r\n                disabled={isDisabled}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n          <Col md={6}>\r\n            <Form.Group controlId=\"currentPassword\">\r\n              <Form.Label>Admin's Password</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                name=\"currentPassword\"\r\n                value={user.currentPassword}\r\n                onChange={handleInputChange}\r\n                disabled={isDisabled}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"mb-3\">\r\n          <Col>\r\n            <Form.Group controlId=\"profile_picture\">\r\n              <Form.Label>Profile Picture</Form.Label>\r\n              <div className=\"d-flex\">\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  name=\"profile_picture\"\r\n                  value={tempProfilePicture}\r\n                  onChange={(e) => setTempProfilePicture(e.target.value)}\r\n                  disabled={isDisabled}\r\n                />\r\n                <Button\r\n                  variant=\"primary\"\r\n                  onClick={() => setShowPicturePopup(true)}\r\n                  className=\"ms-2\"\r\n                  disabled={isDisabled}\r\n                >\r\n                  Preview\r\n                </Button>\r\n              </div>\r\n              {user.profile_picture && (\r\n                <Card className=\"mt-3 position-relative\">\r\n                  <Card.Img\r\n                    variant=\"top\"\r\n                    src={user.profile_picture}\r\n                    alt=\"Profile\"\r\n                    style={{\r\n                      width: \"150px\",\r\n                      height: \"150px\",\r\n                      objectFit: \"cover\",\r\n                      borderRadius: \"50%\",\r\n                      margin: \"0 auto\",\r\n                    }}\r\n                  />\r\n                  {user.profile_picture !== defaultProfilePicture && (\r\n                    <Button\r\n                      variant=\"danger\"\r\n                      size=\"sm\"\r\n                      className=\"position-absolute top-0 end-0 m-2\"\r\n                      style={{\r\n                        borderRadius: \"50%\",\r\n                        width: \"24px\",\r\n                        height: \"24px\",\r\n                        padding: \"0\",\r\n                        lineHeight: \"1\",\r\n                      }}\r\n                      onClick={resetProfilePicture}\r\n                    >\r\n                      X\r\n                    </Button>\r\n                  )}\r\n                </Card>\r\n              )}\r\n            </Form.Group>\r\n          </Col>\r\n        </Row>\r\n        <Button\r\n          variant=\"primary\"\r\n          className=\"w-100\"\r\n          onClick={handleUpdateUser}\r\n          disabled={isDisabled}\r\n        >\r\n          Update User\r\n        </Button>\r\n      </Form>\r\n\r\n      <Modal show={showPicturePopup} onHide={() => setShowPicturePopup(false)} centered>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Change Profile Picture</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Card className=\"text-center\">\r\n            <Card.Img\r\n              variant=\"top\"\r\n              src={user.profile_picture || defaultProfilePicture}\r\n              alt=\"Current Profile\"\r\n              style={{\r\n                width: \"150px\",\r\n                height: \"150px\",\r\n                objectFit: \"cover\",\r\n                borderRadius: \"50%\",\r\n                margin: \"0 auto\",\r\n              }}\r\n            />\r\n            <Card.Body>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control mb-3\"\r\n                placeholder=\"Paste image URL\"\r\n                value={tempProfilePicture}\r\n                onChange={(e) => setTempProfilePicture(e.target.value)}\r\n              />\r\n              <Button variant=\"primary\" onClick={handleProfilePictureChange}>\r\n                Check\r\n              </Button>\r\n            </Card.Body>\r\n          </Card>\r\n        </Modal.Body>\r\n      </Modal>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default UsersManager;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}