{"ast":null,"code":"var _jsxFileName = \"E:\\\\szakdolgozat\\\\ims\\\\frontend\\\\src\\\\UsersManager.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { AuthContext } from \"./AuthProvider.jsx\";\nimport { Form, Button, Container, Row, Col, Alert, Card, Modal } from \"react-bootstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UsersManager() {\n  _s();\n  const {\n    token\n  } = useContext(AuthContext);\n  const [users, setUsers] = useState([]);\n  const [user, setUser] = useState({\n    id: 0,\n    username: \"\",\n    email: \"\",\n    phone_number: \"\",\n    given_name: \"\",\n    family_name: \"\",\n    dob: \"\",\n    address: \"\",\n    account_level: 0,\n    password: \"\",\n    currentPassword: \"\",\n    profile_picture: \"\"\n  });\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n  const [tempProfilePicture, setTempProfilePicture] = useState(\"\");\n  const defaultProfilePicture = \"https://upload.wikimedia.org/wikipedia/commons/a/ac/Default_pfp.jpg?20200418092106\";\n  const [showPicturePopup, setShowPicturePopup] = useState(false);\n  const [currentUserLevel, setCurrentUserLevel] = useState(0); // Track current user's account_level\n  const [maxAccountLevel, setMaxAccountLevel] = useState(0); // Track max account_level from roles table\n\n  const fetchUsers = async () => {\n    try {\n      const response = await fetch(\"http://localhost:5000/api/users\", {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      const data = await response.json();\n      if (response.ok) {\n        setUsers(data.sort((a, b) => a.id - b.id)); // Sort users by ID\n      } else {\n        setError(data.message);\n      }\n    } catch (err) {\n      setError(\"Error fetching users.\");\n    }\n  };\n  useEffect(() => {\n    fetchUsers();\n  }, [token]);\n  useEffect(() => {\n    const fetchCurrentUserLevel = async () => {\n      try {\n        const response = await fetch(\"http://localhost:5000/api/user\", {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        const data = await response.json();\n        if (response.ok) {\n          setCurrentUserLevel(data.user.account_level || 0);\n        }\n      } catch (err) {\n        setError(\"Error fetching current user level.\");\n      }\n    };\n    const fetchMaxAccountLevel = async () => {\n      try {\n        const response = await fetch(\"http://localhost:5000/api/roles/max\", {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        const data = await response.json();\n        if (response.ok) {\n          setMaxAccountLevel(data.maxLevel || 0);\n        }\n      } catch (err) {\n        setError(\"Error fetching max account level.\");\n      }\n    };\n    fetchCurrentUserLevel();\n    fetchMaxAccountLevel();\n  }, [token]);\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    if (name === \"account_level\") {\n      const numericValue = Math.max(0, Math.min(maxAccountLevel, parseInt(value, 10) || 0)); // Restrict value\n      if (user.id === currentUserLevel) {\n        setError(\"You cannot change your own account level.\");\n        return;\n      }\n      setUser({\n        ...user,\n        [name]: numericValue\n      });\n    } else {\n      setUser({\n        ...user,\n        [name]: value\n      });\n    }\n  };\n  const handleSelectUser = e => {\n    const selectedId = parseInt(e.target.value, 10);\n    const selectedUser = users.find(u => u.id === selectedId) || {\n      id: 0,\n      username: \"\",\n      email: \"\",\n      phone_number: \"\",\n      given_name: \"\",\n      family_name: \"\",\n      dob: \"\",\n      address: \"\",\n      account_level: 0,\n      password: \"\",\n      currentPassword: \"\",\n      profile_picture: defaultProfilePicture // Ensure default profile picture\n    };\n    setUser(selectedUser);\n    setError(\"\");\n    setSuccess(\"\");\n  };\n  const handleUpdateUser = async () => {\n    if (!user.currentPassword) {\n      setError(\"Current password is required to update user details.\");\n      return;\n    }\n    try {\n      const response = await fetch(`http://localhost:5000/api/users/${user.id}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify(user)\n      });\n      const data = await response.json();\n      if (response.ok) {\n        setSuccess(\"User updated successfully!\");\n        fetchUsers();\n        setUser({\n          id: 0,\n          username: \"\",\n          email: \"\",\n          phone_number: \"\",\n          given_name: \"\",\n          family_name: \"\",\n          dob: \"\",\n          address: \"\",\n          account_level: 0,\n          password: \"\",\n          currentPassword: \"\",\n          profile_picture: defaultProfilePicture // Reset to default\n        });\n      } else {\n        setError(data.message);\n      }\n    } catch (err) {\n      setError(\"Error updating user.\");\n    }\n  };\n  const handleProfilePictureChange = () => {\n    const img = new Image();\n    img.src = tempProfilePicture;\n    img.onload = () => {\n      setUser({\n        ...user,\n        profile_picture: tempProfilePicture\n      });\n      setTempProfilePicture(\"\");\n      setShowPicturePopup(false);\n      setError(\"\");\n    };\n    img.onerror = () => {\n      setError(\"Invalid image URL.\");\n    };\n  };\n  const resetProfilePicture = () => {\n    setUser({\n      ...user,\n      profile_picture: defaultProfilePicture\n    });\n  };\n  const isDisabled = user.id === 0;\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"mt-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-center mb-4\",\n      children: \"Users Manager\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      variant: \"danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 17\n    }, this), success && /*#__PURE__*/_jsxDEV(Alert, {\n      variant: \"success\",\n      children: success\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: 4,\n          children: /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"id\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"User ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              as: \"select\",\n              name: \"id\",\n              value: user.id,\n              onChange: handleSelectUser,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: 0,\n                children: \"Select User\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 17\n              }, this), users.map(u => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: u.id,\n                children: [u.id, \" - \", u.username]\n              }, u.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 8,\n          children: /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"username\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Username\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              name: \"username\",\n              value: user.username,\n              onChange: handleInputChange,\n              disabled: isDisabled\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"email\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"email\",\n              name: \"email\",\n              value: user.email,\n              onChange: handleInputChange,\n              disabled: isDisabled\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"phone_number\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Phone Number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              name: \"phone_number\",\n              value: user.phone_number,\n              onChange: handleInputChange,\n              disabled: isDisabled\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"given_name\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Given Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              name: \"given_name\",\n              value: user.given_name,\n              onChange: handleInputChange,\n              disabled: isDisabled\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"family_name\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Family Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              name: \"family_name\",\n              value: user.family_name,\n              onChange: handleInputChange,\n              disabled: isDisabled\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"dob\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Date of Birth\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"date\",\n              name: \"dob\",\n              value: user.dob,\n              onChange: handleInputChange,\n              disabled: isDisabled\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"address\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              name: \"address\",\n              value: user.address,\n              onChange: handleInputChange,\n              disabled: isDisabled\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"account_level\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Account Level\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"number\",\n              name: \"account_level\",\n              value: user.account_level,\n              onChange: handleInputChange,\n              min: \"0\",\n              max: maxAccountLevel,\n              disabled: currentUserLevel !== 1 ||\n              // Enable only if current user's account_level is 1 (Admin)\n              user.id === 0 // Disable if no user is selected\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"password\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"New Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"password\",\n              name: \"password\",\n              value: user.password,\n              onChange: handleInputChange,\n              disabled: isDisabled\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"currentPassword\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Admin's Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"password\",\n              name: \"currentPassword\",\n              value: user.currentPassword,\n              onChange: handleInputChange,\n              disabled: isDisabled\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"profile_picture\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Profile Picture\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                name: \"profile_picture\",\n                value: tempProfilePicture,\n                onChange: e => setTempProfilePicture(e.target.value),\n                disabled: isDisabled\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"primary\",\n                onClick: () => setShowPicturePopup(true),\n                className: \"ms-2\",\n                disabled: isDisabled,\n                children: \"Preview\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 15\n            }, this), user.profile_picture && /*#__PURE__*/_jsxDEV(Card, {\n              className: \"mt-3 position-relative\",\n              children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n                variant: \"top\",\n                src: user.profile_picture,\n                alt: \"Profile\",\n                style: {\n                  width: \"150px\",\n                  height: \"150px\",\n                  objectFit: \"cover\",\n                  borderRadius: \"50%\",\n                  // Make it circular\n                  margin: \"0 auto\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 19\n              }, this), user.profile_picture !== defaultProfilePicture && /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"danger\",\n                size: \"sm\",\n                className: \"position-absolute top-0 end-0 m-2\",\n                style: {\n                  borderRadius: \"50%\",\n                  width: \"24px\",\n                  height: \"24px\",\n                  padding: \"0\",\n                  lineHeight: \"1\"\n                },\n                onClick: resetProfilePicture,\n                children: \"X\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        className: \"w-100\",\n        onClick: handleUpdateUser,\n        disabled: isDisabled,\n        children: \"Update User\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showPicturePopup,\n      onHide: () => setShowPicturePopup(false),\n      centered: true,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Change Profile Picture\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n            variant: \"top\",\n            src: user.profile_picture || defaultProfilePicture,\n            alt: \"Current Profile\",\n            style: {\n              width: \"150px\",\n              height: \"150px\",\n              objectFit: \"cover\",\n              borderRadius: \"50%\",\n              // Circular preview\n              margin: \"0 auto\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control mb-3\",\n              placeholder: \"Paste image URL\",\n              value: tempProfilePicture,\n              onChange: e => setTempProfilePicture(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              onClick: handleProfilePictureChange,\n              children: \"Check\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 416,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 187,\n    columnNumber: 5\n  }, this);\n}\n_s(UsersManager, \"UMrDSXtm4x+mMOc2MpH+jgp8TVw=\");\n_c = UsersManager;\nexport default UsersManager;\nvar _c;\n$RefreshReg$(_c, \"UsersManager\");","map":{"version":3,"names":["React","useState","useEffect","useContext","AuthContext","Form","Button","Container","Row","Col","Alert","Card","Modal","jsxDEV","_jsxDEV","UsersManager","_s","token","users","setUsers","user","setUser","id","username","email","phone_number","given_name","family_name","dob","address","account_level","password","currentPassword","profile_picture","error","setError","success","setSuccess","tempProfilePicture","setTempProfilePicture","defaultProfilePicture","showPicturePopup","setShowPicturePopup","currentUserLevel","setCurrentUserLevel","maxAccountLevel","setMaxAccountLevel","fetchUsers","response","fetch","headers","Authorization","data","json","ok","sort","a","b","message","err","fetchCurrentUserLevel","fetchMaxAccountLevel","maxLevel","handleInputChange","e","name","value","target","numericValue","Math","max","min","parseInt","handleSelectUser","selectedId","selectedUser","find","u","handleUpdateUser","method","body","JSON","stringify","handleProfilePictureChange","img","Image","src","onload","onerror","resetProfilePicture","isDisabled","className","children","fileName","_jsxFileName","lineNumber","columnNumber","variant","md","Group","controlId","Label","Control","as","onChange","map","type","disabled","onClick","Img","alt","style","width","height","objectFit","borderRadius","margin","size","padding","lineHeight","show","onHide","centered","Header","closeButton","Title","Body","placeholder","_c","$RefreshReg$"],"sources":["E:/szakdolgozat/ims/frontend/src/UsersManager.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport { AuthContext } from \"./AuthProvider.jsx\";\r\nimport { Form, Button, Container, Row, Col, Alert, Card, Modal } from \"react-bootstrap\";\r\n\r\nfunction UsersManager() {\r\n  const { token } = useContext(AuthContext);\r\n  const [users, setUsers] = useState([]);\r\n  const [user, setUser] = useState({\r\n    id: 0,\r\n    username: \"\",\r\n    email: \"\",\r\n    phone_number: \"\",\r\n    given_name: \"\",\r\n    family_name: \"\",\r\n    dob: \"\",\r\n    address: \"\",\r\n    account_level: 0,\r\n    password: \"\",\r\n    currentPassword: \"\",\r\n    profile_picture: \"\",\r\n  });\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(\"\");\r\n  const [tempProfilePicture, setTempProfilePicture] = useState(\"\");\r\n  const defaultProfilePicture = \"https://upload.wikimedia.org/wikipedia/commons/a/ac/Default_pfp.jpg?20200418092106\";\r\n  const [showPicturePopup, setShowPicturePopup] = useState(false);\r\n  const [currentUserLevel, setCurrentUserLevel] = useState(0); // Track current user's account_level\r\n  const [maxAccountLevel, setMaxAccountLevel] = useState(0); // Track max account_level from roles table\r\n\r\n  const fetchUsers = async () => {\r\n    try {\r\n      const response = await fetch(\"http://localhost:5000/api/users\", {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n      const data = await response.json();\r\n      if (response.ok) {\r\n        setUsers(data.sort((a, b) => a.id - b.id)); // Sort users by ID\r\n      } else {\r\n        setError(data.message);\r\n      }\r\n    } catch (err) {\r\n      setError(\"Error fetching users.\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchUsers();\r\n  }, [token]);\r\n\r\n  useEffect(() => {\r\n    const fetchCurrentUserLevel = async () => {\r\n      try {\r\n        const response = await fetch(\"http://localhost:5000/api/user\", {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        });\r\n        const data = await response.json();\r\n        if (response.ok) {\r\n          setCurrentUserLevel(data.user.account_level || 0);\r\n        }\r\n      } catch (err) {\r\n        setError(\"Error fetching current user level.\");\r\n      }\r\n    };\r\n\r\n    const fetchMaxAccountLevel = async () => {\r\n      try {\r\n        const response = await fetch(\"http://localhost:5000/api/roles/max\", {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        });\r\n        const data = await response.json();\r\n        if (response.ok) {\r\n          setMaxAccountLevel(data.maxLevel || 0);\r\n        }\r\n      } catch (err) {\r\n        setError(\"Error fetching max account level.\");\r\n      }\r\n    };\r\n\r\n    fetchCurrentUserLevel();\r\n    fetchMaxAccountLevel();\r\n  }, [token]);\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n\r\n    if (name === \"account_level\") {\r\n      const numericValue = Math.max(0, Math.min(maxAccountLevel, parseInt(value, 10) || 0)); // Restrict value\r\n      if (user.id === currentUserLevel) {\r\n        setError(\"You cannot change your own account level.\");\r\n        return;\r\n      }\r\n      setUser({ ...user, [name]: numericValue });\r\n    } else {\r\n      setUser({ ...user, [name]: value });\r\n    }\r\n  };\r\n\r\n  const handleSelectUser = (e) => {\r\n    const selectedId = parseInt(e.target.value, 10);\r\n    const selectedUser = users.find((u) => u.id === selectedId) || {\r\n      id: 0,\r\n      username: \"\",\r\n      email: \"\",\r\n      phone_number: \"\",\r\n      given_name: \"\",\r\n      family_name: \"\",\r\n      dob: \"\",\r\n      address: \"\",\r\n      account_level: 0,\r\n      password: \"\",\r\n      currentPassword: \"\",\r\n      profile_picture: defaultProfilePicture, // Ensure default profile picture\r\n    };\r\n    setUser(selectedUser);\r\n    setError(\"\");\r\n    setSuccess(\"\");\r\n  };\r\n\r\n  const handleUpdateUser = async () => {\r\n    if (!user.currentPassword) {\r\n      setError(\"Current password is required to update user details.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(`http://localhost:5000/api/users/${user.id}`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify(user),\r\n      });\r\n      const data = await response.json();\r\n      if (response.ok) {\r\n        setSuccess(\"User updated successfully!\");\r\n        fetchUsers();\r\n        setUser({\r\n          id: 0,\r\n          username: \"\",\r\n          email: \"\",\r\n          phone_number: \"\",\r\n          given_name: \"\",\r\n          family_name: \"\",\r\n          dob: \"\",\r\n          address: \"\",\r\n          account_level: 0,\r\n          password: \"\",\r\n          currentPassword: \"\",\r\n          profile_picture: defaultProfilePicture, // Reset to default\r\n        });\r\n      } else {\r\n        setError(data.message);\r\n      }\r\n    } catch (err) {\r\n      setError(\"Error updating user.\");\r\n    }\r\n  };\r\n\r\n  const handleProfilePictureChange = () => {\r\n    const img = new Image();\r\n    img.src = tempProfilePicture;\r\n    img.onload = () => {\r\n      setUser({ ...user, profile_picture: tempProfilePicture });\r\n      setTempProfilePicture(\"\");\r\n      setShowPicturePopup(false);\r\n      setError(\"\");\r\n    };\r\n    img.onerror = () => {\r\n      setError(\"Invalid image URL.\");\r\n    };\r\n  };\r\n\r\n  const resetProfilePicture = () => {\r\n    setUser({ ...user, profile_picture: defaultProfilePicture });\r\n  };\r\n\r\n  const isDisabled = user.id === 0;\r\n\r\n  return (\r\n    <Container className=\"mt-5\">\r\n      <h1 className=\"text-center mb-4\">Users Manager</h1>\r\n      {error && <Alert variant=\"danger\">{error}</Alert>}\r\n      {success && <Alert variant=\"success\">{success}</Alert>}\r\n\r\n      <Form>\r\n        <Row className=\"mb-3\">\r\n          <Col md={4}>\r\n            <Form.Group controlId=\"id\">\r\n              <Form.Label>User ID</Form.Label>\r\n              <Form.Control\r\n                as=\"select\"\r\n                name=\"id\"\r\n                value={user.id}\r\n                onChange={handleSelectUser}\r\n              >\r\n                <option value={0}>Select User</option>\r\n                {users.map((u) => (\r\n                  <option key={u.id} value={u.id}>\r\n                    {u.id} - {u.username}\r\n                  </option>\r\n                ))}\r\n              </Form.Control>\r\n            </Form.Group>\r\n          </Col>\r\n          <Col md={8}>\r\n            <Form.Group controlId=\"username\">\r\n              <Form.Label>Username</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                name=\"username\"\r\n                value={user.username}\r\n                onChange={handleInputChange}\r\n                disabled={isDisabled}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"mb-3\">\r\n          <Col md={6}>\r\n            <Form.Group controlId=\"email\">\r\n              <Form.Label>Email</Form.Label>\r\n              <Form.Control\r\n                type=\"email\"\r\n                name=\"email\"\r\n                value={user.email}\r\n                onChange={handleInputChange}\r\n                disabled={isDisabled}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n          <Col md={6}>\r\n            <Form.Group controlId=\"phone_number\">\r\n              <Form.Label>Phone Number</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                name=\"phone_number\"\r\n                value={user.phone_number}\r\n                onChange={handleInputChange}\r\n                disabled={isDisabled}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"mb-3\">\r\n          <Col md={6}>\r\n            <Form.Group controlId=\"given_name\">\r\n              <Form.Label>Given Name</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                name=\"given_name\"\r\n                value={user.given_name}\r\n                onChange={handleInputChange}\r\n                disabled={isDisabled}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n          <Col md={6}>\r\n            <Form.Group controlId=\"family_name\">\r\n              <Form.Label>Family Name</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                name=\"family_name\"\r\n                value={user.family_name}\r\n                onChange={handleInputChange}\r\n                disabled={isDisabled}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"mb-3\">\r\n          <Col md={6}>\r\n            <Form.Group controlId=\"dob\">\r\n              <Form.Label>Date of Birth</Form.Label>\r\n              <Form.Control\r\n                type=\"date\"\r\n                name=\"dob\"\r\n                value={user.dob}\r\n                onChange={handleInputChange}\r\n                disabled={isDisabled}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n          <Col md={6}>\r\n            <Form.Group controlId=\"address\">\r\n              <Form.Label>Address</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                name=\"address\"\r\n                value={user.address}\r\n                onChange={handleInputChange}\r\n                disabled={isDisabled}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"mb-3\">\r\n          <Col>\r\n            <Form.Group controlId=\"account_level\">\r\n              <Form.Label>Account Level</Form.Label>\r\n              <Form.Control\r\n                type=\"number\"\r\n                name=\"account_level\"\r\n                value={user.account_level}\r\n                onChange={handleInputChange}\r\n                min=\"0\"\r\n                max={maxAccountLevel}\r\n                disabled={\r\n                  currentUserLevel !== 1 || // Enable only if current user's account_level is 1 (Admin)\r\n                  user.id === 0 // Disable if no user is selected\r\n                }\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"mb-3\">\r\n          <Col md={6}>\r\n            <Form.Group controlId=\"password\">\r\n              <Form.Label>New Password</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                name=\"password\"\r\n                value={user.password}\r\n                onChange={handleInputChange}\r\n                disabled={isDisabled}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n          <Col md={6}>\r\n            <Form.Group controlId=\"currentPassword\">\r\n              <Form.Label>Admin's Password</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                name=\"currentPassword\"\r\n                value={user.currentPassword}\r\n                onChange={handleInputChange}\r\n                disabled={isDisabled}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"mb-3\">\r\n          <Col>\r\n            <Form.Group controlId=\"profile_picture\">\r\n              <Form.Label>Profile Picture</Form.Label>\r\n              <div className=\"d-flex\">\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  name=\"profile_picture\"\r\n                  value={tempProfilePicture}\r\n                  onChange={(e) => setTempProfilePicture(e.target.value)}\r\n                  disabled={isDisabled}\r\n                />\r\n                <Button\r\n                  variant=\"primary\"\r\n                  onClick={() => setShowPicturePopup(true)}\r\n                  className=\"ms-2\"\r\n                  disabled={isDisabled}\r\n                >\r\n                  Preview\r\n                </Button>\r\n              </div>\r\n              {user.profile_picture && (\r\n                <Card className=\"mt-3 position-relative\">\r\n                  <Card.Img\r\n                    variant=\"top\"\r\n                    src={user.profile_picture}\r\n                    alt=\"Profile\"\r\n                    style={{\r\n                      width: \"150px\",\r\n                      height: \"150px\",\r\n                      objectFit: \"cover\",\r\n                      borderRadius: \"50%\", // Make it circular\r\n                      margin: \"0 auto\",\r\n                    }}\r\n                  />\r\n                  {user.profile_picture !== defaultProfilePicture && (\r\n                    <Button\r\n                      variant=\"danger\"\r\n                      size=\"sm\"\r\n                      className=\"position-absolute top-0 end-0 m-2\"\r\n                      style={{\r\n                        borderRadius: \"50%\",\r\n                        width: \"24px\",\r\n                        height: \"24px\",\r\n                        padding: \"0\",\r\n                        lineHeight: \"1\",\r\n                      }}\r\n                      onClick={resetProfilePicture}\r\n                    >\r\n                      X\r\n                    </Button>\r\n                  )}\r\n                </Card>\r\n              )}\r\n            </Form.Group>\r\n          </Col>\r\n        </Row>\r\n        <Button\r\n          variant=\"primary\"\r\n          className=\"w-100\"\r\n          onClick={handleUpdateUser}\r\n          disabled={isDisabled}\r\n        >\r\n          Update User\r\n        </Button>\r\n      </Form>\r\n\r\n      {/* Profile Picture Popup */}\r\n      <Modal show={showPicturePopup} onHide={() => setShowPicturePopup(false)} centered>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Change Profile Picture</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Card className=\"text-center\">\r\n            <Card.Img\r\n              variant=\"top\"\r\n              src={user.profile_picture || defaultProfilePicture}\r\n              alt=\"Current Profile\"\r\n              style={{\r\n                width: \"150px\",\r\n                height: \"150px\",\r\n                objectFit: \"cover\",\r\n                borderRadius: \"50%\", // Circular preview\r\n                margin: \"0 auto\",\r\n              }}\r\n            />\r\n            <Card.Body>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control mb-3\"\r\n                placeholder=\"Paste image URL\"\r\n                value={tempProfilePicture}\r\n                onChange={(e) => setTempProfilePicture(e.target.value)}\r\n              />\r\n              <Button variant=\"primary\" onClick={handleProfilePictureChange}>\r\n                Check\r\n              </Button>\r\n            </Card.Body>\r\n          </Card>\r\n        </Modal.Body>\r\n      </Modal>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default UsersManager;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}